define(["cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.mouseData={sX:0,eX:0,sY:0,eY:0},this.checkedFlag=!1},c.initialize=function($super,a){this.bindEvent(),this.allowsConfig.changed=!0,this.checkedFlag=a.checked,$super(a),this.show()},c.bindEvent=function(){this.addEvent("onShow",function(){this.el=this.root.find(".cui-switch"),this.switchBar=this.el.find(".cui-switch-bg"),$.flip(this.root,"left",$.proxy(function(){this.unChecked()},this)),$.flip(this.root,"right",$.proxy(function(){this.checked()},this)),$.flip(this.root,"tap",$.proxy(function(){this.el.hasClass("current")?this.unChecked():this.checked()},this))}),this.addEvent("onHide",function(){$.flipDestroy(this.el),this.root.remove()})},c.createHtml=function(){var a=this.checkedFlag?"current":"";return['<div class="cui-switch '+a+'">','<div class="cui-switch-bg '+a+'"></div>','<div class="cui-switch-scroll"></div>',"</div>"].join("")},c._getLRDir=function(){return this.mouseData.eX-this.mouseData.sX>0?"right":this.mouseData.eX-this.mouseData.sX<0?"left":void 0},c.unChecked=function(){this.getStatus()&&(this.el.removeClass("current"),this.switchBar.removeClass("current"),this._triggerChanged())},c.checked=function(){this.getStatus()||(this.el.addClass("current"),this.switchBar.addClass("current"),this._triggerChanged())},c._triggerChanged=function(){"function"==typeof this.changed&&this.changed.call(this)},c.getStatus=function(){return this.el.hasClass("current")},c.setStatus=function(a){a?(this.el.addClass("current"),this.switchBar.addClass("current")):(this.el.removeClass("current"),this.switchBar.removeClass("current"))},new a.Class(b,c)});